const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InfoDialog-1Ree8_Gf.js","assets/index-DaW_XuWa.js","assets/index-CW44yAiA.css","assets/InfoDialog-CsSRyTXu.css"])))=>i.map(i=>d[i]);
import{d as M,c as v,n as K,a as t,u as U,r as Q,o as m,_ as W,b as X,e as Y,f,g as R,w as x,h as ee,i as a,j as o,k as u,l as le,F as q,m as ae,p as se,q as d,t as r,s as V,v as k,x as oe,E as te}from"./index-DaW_XuWa.js";import{c as F}from"./Formatter-CFOKYfFP.js";const ne="/fake_store/assets/eloura_blue-DpEZw_wu.png",re={class:"message-icon"},ue=["stroke"],ie={class:"message-content"},de=M({__name:"MessageBox",props:{message:{type:String,default:"This is a message box"},type:{type:String,default:"info"}},setup(C){const h={info:"#0b2545",warning:"orange",error:"red"}[C.type]||"#0b2545";return(w,_)=>(m(),v("div",{class:K(["message-container",C.type])},[t("div",re,[(m(),v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",stroke:U(h),fill:"none","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},_[0]||(_[0]=[t("circle",{cx:"12",cy:"12",r:"10"},null,-1),t("line",{x1:"12",y1:"7.5",x2:"12",y2:"12"},null,-1),t("circle",{cx:"12",cy:"16",r:"0.8"},null,-1)]),8,ue))]),t("div",ie,[Q(w.$slots,"message",{},void 0,!0)])],2))}}),me=W(de,[["__scopeId","data-v-dc08f1e2"]]),pe={class:"auth-wrapper"},fe={class:"auth-card"},ge={key:2,class:"v-spacer-15"},ve={class:"hidden-sm-and-up"},_e=M({__name:"LoginView",setup(C){const c=X(),h=ae(),{t:w,locale:_}=Y(),b=f(),P=f(!1),i=f(!0),B=le(()=>se(()=>import("./InfoDialog-1Ree8_Gf.js"),__vite__mapDeps([0,1,2,3]))),S=f(!1),L=f(!1),D=f(!1),I=R(()=>c.listOfUsers.map(e=>({...e,fullName:`${F(e.name.firstname)} ${F(e.name.lastname)}`}))),n=f({email:"",username:"",password:"",confirmPassword:"",remember:!1}),$=e=>({required:!0,message:R(()=>w("validation.required",{field:w(e)})),trigger:"blur"}),O={username:[$("username")],email:[$("email")],password:[$("password")],confirmPassword:[$("confirmPassword")]},T=async e=>{await b.value.validate(async l=>{if(l){P.value=!0;try{let p=!1;e==="login"?p=await c.login(n.value.username,n.value.password):D.value=!0,p&&h.push("/")}catch{te.error("Invalid credentials")}finally{P.value=!1}}})},z=()=>{T(i.value?"login":"signup")},j=()=>{i.value=!i.value,b.value.resetFields()};return x(_,()=>{var e;(e=b.value)==null||e.validate()}),ee(async()=>{await c.fetchListOfUsers()}),(e,l)=>{const p=u("el-text"),E=u("el-link"),y=u("el-input"),g=u("el-form-item"),H=u("el-checkbox"),Z=u("el-button"),G=u("el-form"),A=u("el-row"),N=u("el-table-column"),J=u("el-table");return m(),v(q,null,[t("div",pe,[a(me,{type:"info"},{message:o(()=>[a(p,null,{default:o(()=>[d(r(e.$t("message.loginInfo")),1)]),_:1}),l[10]||(l[10]=t("div",{class:"inline-flex mar-r-5"},null,-1)),a(E,{onClick:l[0]||(l[0]=s=>S.value=!0)},{default:o(()=>[d(r(e.$t("viewTestCredentials")),1)]),_:1})]),_:1}),t("div",fe,[l[13]||(l[13]=t("div",{class:"auth-card-logo"},[t("img",{loading:"lazy",src:ne,alt:"Eloura Logo",height:135,width:170})],-1)),a(G,{model:n.value,rules:O,ref_key:"formRef",ref:b,"label-position":"top"},{default:o(()=>[i.value?k("",!0):(m(),V(g,{key:0,label:e.$t("email"),prop:"email"},{default:o(()=>[a(y,{modelValue:n.value.email,"onUpdate:modelValue":l[1]||(l[1]=s=>n.value.email=s)},null,8,["modelValue"])]),_:1},8,["label"])),a(g,{label:e.$t("username"),prop:"username"},{default:o(()=>[a(y,{modelValue:n.value.username,"onUpdate:modelValue":l[2]||(l[2]=s=>n.value.username=s)},null,8,["modelValue"])]),_:1},8,["label"]),a(g,{label:e.$t("password"),prop:"password"},{default:o(()=>[a(y,{modelValue:n.value.password,"onUpdate:modelValue":l[3]||(l[3]=s=>n.value.password=s),"show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),i.value?k("",!0):(m(),V(g,{key:1,label:e.$t("confirmPassword"),prop:"confirmPassword"},{default:o(()=>[a(y,{modelValue:n.value.confirmPassword,"onUpdate:modelValue":l[4]||(l[4]=s=>n.value.confirmPassword=s),"show-password":""},null,8,["modelValue"])]),_:1},8,["label"])),i.value?k("",!0):(m(),v("div",ge)),i.value?(m(),V(g,{key:3},{default:o(()=>[a(H,{modelValue:n.value.remember,"onUpdate:modelValue":l[5]||(l[5]=s=>n.value.remember=s)},{default:o(()=>[d(r(e.$t("remember")),1)]),_:1},8,["modelValue"])]),_:1})):k("",!0),a(Z,{class:"btn btn-primary",onClick:z,loading:P.value,round:""},{default:o(()=>[d(r(i.value?e.$t("login"):e.$t("signUp")),1)]),_:1},8,["loading"]),l[11]||(l[11]=t("div",{class:"v-spacer-15"},null,-1)),a(E,{onClick:l[6]||(l[6]=s=>L.value=!0)},{default:o(()=>[d(r(e.$t("forgotUsernamePassword")),1)]),_:1}),l[12]||(l[12]=t("br",null,null,-1)),a(E,{onClick:j},{default:o(()=>[d(r(i.value?e.$t("signUp"):e.$t("alreadyHaveAcct")),1)]),_:1})]),_:1},8,["model"])])]),a(U(B),{modelValue:S.value,"onUpdate:modelValue":l[7]||(l[7]=s=>S.value=s),title:e.$t("testCredentials"),width:"700"},{messageBody:o(()=>[t("div",ve,[(m(!0),v(q,null,oe(I.value,s=>(m(),V(A,{class:"card-container",key:s.id},{default:o(()=>[a(A,{class:"card-body"},{default:o(()=>[a(p,{class:"txtBlack"},{default:o(()=>[d(r(s.fullName),1)]),_:2},1024),a(p,null,{default:o(()=>[t("strong",null,r(e.$t("username"))+":",1),d(" "+r(s.username),1)]),_:2},1024),a(p,null,{default:o(()=>[t("strong",null,r(e.$t("password"))+":",1),d(" "+r(s.password),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),a(J,{data:I.value,class:"hidden-xs",stripe:""},{default:o(()=>[a(N,{label:e.$t("name"),prop:"fullName"},null,8,["label"]),a(N,{label:e.$t("username"),prop:"username"},null,8,["label"]),a(N,{label:e.$t("password"),prop:"password"},null,8,["label"])]),_:1},8,["data"])]),_:1},8,["modelValue","title"]),a(U(B),{modelValue:L.value,"onUpdate:modelValue":l[8]||(l[8]=s=>L.value=s),title:e.$t("forgotUsernamePassword"),type:"warning",message:e.$t("message.feature",{feature:e.$t("forgotUsernamePassword")})},null,8,["modelValue","title","message"]),a(U(B),{modelValue:D.value,"onUpdate:modelValue":l[9]||(l[9]=s=>D.value=s),title:e.$t("signUp"),type:"warning",message:e.$t("message.feature",{feature:e.$t("signUp")})},null,8,["modelValue","title","message"])],64)}}});export{_e as default};
