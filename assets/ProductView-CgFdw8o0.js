import{d as N,y as S,g as P,f as m,h as $,z as E,c as w,a as e,A as T,B as q,s as b,v as y,j as l,k as o,F as D,o as c,i as s,t as n,q as C,u as I,C as L,E as M,_ as j}from"./index-DaW_XuWa.js";const R={"element-loading-text":"Loading... Please wait"},U={class:"product-view-wrapper"},G=["src","alt"],H={class:"txtSize14"},J={class:"txtBlue font-weight-bold txtSize18"},K={class:"mar-r-10"},O={class:"action-buttons mar-t-30"},Q=N({__name:"ProductView",setup(W){const p=E(),r=S(),a=P(()=>r.product),d=m(!1),u=m(1),v=m(2),x=async()=>{r.isCartFetched||await r.fetchCart(v.value),a.value&&(await r.addToCartAndSync(v.value,a.value,u.value),M.success("Added to cart!"))};return $(async()=>{try{d.value=!0,p.params.id&&await r.fetchProduct(Number(p.params.id))}catch(i){console.error("Error fetching product details",i)}finally{d.value=!1}}),(i,t)=>{const f=o("el-col"),A=o("el-text"),h=o("el-rate"),B=o("el-divider"),_=o("el-row"),V=o("el-input-number"),k=o("el-icon"),g=o("el-button"),z=q("loading");return c(),w(D,null,[t[5]||(t[5]=e("div",{class:"v-spacer-30"},null,-1)),T((c(),w("div",R,[e("div",U,[t[4]||(t[4]=e("div",{class:"v-spacer-15"},null,-1)),a.value?(c(),b(_,{key:0},{default:l(()=>[s(f,{md:10,class:"image-column"},{default:l(()=>[e("img",{src:a.value.image,alt:a.value.title,class:"product-image"},null,8,G)]),_:1}),s(f,{md:14,class:"info-column"},{default:l(()=>[e("h1",null,n(a.value.title),1),t[1]||(t[1]=e("div",{class:"v-spacer-15"},null,-1)),s(A,null,{default:l(()=>[C(n(a.value.description),1)]),_:1}),t[2]||(t[2]=e("div",{class:"v-spacer-15"},null,-1)),a.value.rating?(c(),b(_,{key:0,align:"middle"},{default:l(()=>[s(h,{"model-value":a.value.rating.rate,disabled:"","show-score":"",max:5,colors:["#F7BA2A","#F7BA2A","#F7BA2A"],class:"txtSize16"},null,8,["model-value"]),s(B,{direction:"vertical"}),e("span",H,n(a.value.rating.count)+" "+n(i.$t("sold")),1)]),_:1})):y("",!0),e("p",J,"$"+n(a.value.price),1),s(_,{align:"middle",class:"v-spacer-15"},{default:l(()=>[e("span",K,[e("strong",null,n(i.$t("quantity"))+":",1)]),s(V,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=F=>u.value=F),min:1,max:100,size:"small"},null,8,["modelValue"])]),_:1}),t[3]||(t[3]=e("div",{class:"v-spacer-20"},null,-1)),e("div",O,[s(g,{class:"btn btn-secondary w-auto",onClick:x},{default:l(()=>[s(k,{size:20,color:"#0b2545",class:"icon-align"},{default:l(()=>[s(I(L))]),_:1}),e("span",null,n(i.$t("addToCart")),1)]),_:1}),s(g,{class:"btn btn-primary w-auto"},{default:l(()=>[C(n(i.$t("buyNow")),1)]),_:1})])]),_:1})]),_:1})):y("",!0)])])),[[z,d.value]])],64)}}}),Y=j(Q,[["__scopeId","data-v-c2906ffd"]]);export{Y as default};
