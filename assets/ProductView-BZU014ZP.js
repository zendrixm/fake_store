import{d as q,y as z,g as P,f as _,h as S,z as $,A as E,B as F,c as T,a as t,s as y,v as w,j as s,k as o,o as m,i as a,t as l,q as h,u as D,C as I,E as L,_ as M}from"./index-9SfRDxQp.js";const j={"element-loading-text":"Loading... Please wait"},R={class:"product-view-wrapper"},U=["src","alt"],G={class:"txtSize14"},H={class:"txtBlue txtBold txtSize18"},J={class:"qty-label"},K={class:"action-buttons"},O=q({__name:"ProductView",setup(Q){const p=$(),i=z(),e=P(()=>i.product),r=_(!1),d=_(1),v=_(2),b=async()=>{i.isCartFetched||await i.fetchCart(v.value),e.value&&(await i.addToCartAndSync(v.value,e.value,d.value),L.success("Added to cart!"))};return S(async()=>{try{r.value=!0,p.params.id&&await i.fetchProduct(Number(p.params.id))}catch(n){console.error("Error fetching product details",n)}finally{r.value=!1}}),(n,c)=>{const f=o("el-col"),C=o("el-text"),x=o("el-rate"),A=o("el-divider"),u=o("el-row"),B=o("el-input-number"),V=o("el-icon"),g=o("el-button"),k=F("loading");return E((m(),T("div",j,[t("div",R,[c[2]||(c[2]=t("div",{class:"v-spacer-30"},null,-1)),e.value?(m(),y(u,{key:0},{default:s(()=>[a(f,{md:10,class:"image-column"},{default:s(()=>[t("img",{src:e.value.image,alt:e.value.title,class:"product-image"},null,8,U)]),_:1}),a(f,{md:14,class:"info-column"},{default:s(()=>[t("h1",null,l(e.value.title),1),a(C,null,{default:s(()=>[h(l(e.value.description),1)]),_:1}),e.value.rating?(m(),y(u,{key:0,align:"middle",class:"rating-section"},{default:s(()=>[a(x,{"model-value":e.value.rating.rate,disabled:"","show-score":"",max:5,colors:["#F7BA2A","#F7BA2A","#F7BA2A"],class:"rating-stars"},null,8,["model-value"]),a(A,{direction:"vertical"}),t("span",G,l(e.value.rating.count)+" "+l(n.$t("sold")),1)]),_:1})):w("",!0),t("p",H,"$"+l(e.value.price),1),a(u,{align:"middle",class:"v-spacer-15 quantity-row"},{default:s(()=>[t("span",J,[t("strong",null,l(n.$t("quantity"))+":",1)]),a(B,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=N=>d.value=N),min:1,max:100,size:"small"},null,8,["modelValue"])]),_:1}),c[1]||(c[1]=t("div",{class:"v-spacer-20"},null,-1)),t("div",K,[a(g,{class:"btn-secondary",onClick:b},{default:s(()=>[a(V,{size:20,color:"#134074",class:"icon-align"},{default:s(()=>[a(D(I))]),_:1}),t("span",null,l(n.$t("addToCart")),1)]),_:1}),a(g,{class:"btn-solid-primary"},{default:s(()=>[h(l(n.$t("buyNow")),1)]),_:1})])]),_:1})]),_:1})):w("",!0)])])),[[k,r.value]])}}}),X=M(O,[["__scopeId","data-v-533f2a09"]]);export{X as default};
