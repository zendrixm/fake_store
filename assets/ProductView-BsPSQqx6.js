import{d as q,n as P,c as S,r as _,p as $,q as z,s as E,v as F,b as T,e as a,j as h,k as y,g as s,h as o,o as m,f as t,t as l,l as w,x as D,y as I,E as L,_ as M}from"./index-DUnkl4LZ.js";const j={"element-loading-text":"Loading... Please wait"},R={class:"product-view-wrapper"},U=["src","alt"],G={class:"txtSize14"},H={class:"txtBlue txtBold txtSize18"},J={class:"qty-label"},K={class:"action-buttons"},O=q({__name:"ProductView",setup(Q){const p=z(),c=P(),e=S(()=>c.product),r=_(!1),d=_(1),v=_(2),b=async()=>{c.isCartFetched||await c.fetchCart(v.value),e.value&&(await c.addToCartAndSync(v.value,e.value,d.value),L.success("Added to cart!"))};return $(async()=>{try{r.value=!0,p.params.id&&await c.fetchProduct(Number(p.params.id))}catch(n){console.error("Error fetching product details",n)}finally{r.value=!1}}),(n,i)=>{const f=o("el-col"),x=o("el-text"),C=o("el-rate"),A=o("el-divider"),u=o("el-row"),B=o("el-input-number"),V=o("el-icon"),g=o("el-button"),k=F("loading");return E((m(),T("div",j,[a("div",R,[e.value?(m(),h(u,{key:0},{default:s(()=>[t(f,{md:10,class:"image-column"},{default:s(()=>[a("img",{src:e.value.image,alt:e.value.title,class:"product-image"},null,8,U)]),_:1}),t(f,{md:14,class:"info-column"},{default:s(()=>[a("h1",null,l(e.value.title),1),t(x,null,{default:s(()=>[w(l(e.value.description),1)]),_:1}),e.value.rating?(m(),h(u,{key:0,align:"middle",class:"rating-section"},{default:s(()=>[t(C,{"model-value":e.value.rating.rate,disabled:"","show-score":"",max:5,colors:["#F7BA2A","#F7BA2A","#F7BA2A"],class:"rating-stars"},null,8,["model-value"]),t(A,{direction:"vertical"}),a("span",G,l(e.value.rating.count)+" "+l(n.$t("sold")),1)]),_:1})):y("",!0),a("p",H,"$"+l(e.value.price),1),t(u,{align:"middle",class:"v-spacer-15 quantity-row"},{default:s(()=>[a("span",J,[a("strong",null,l(n.$t("quantity"))+":",1)]),t(B,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=N=>d.value=N),min:1,max:100,size:"small"},null,8,["modelValue"])]),_:1}),i[1]||(i[1]=a("div",{class:"v-spacer-20"},null,-1)),a("div",K,[t(g,{class:"btn-secondary",onClick:b},{default:s(()=>[t(V,{size:20,color:"#134074",class:"icon-align"},{default:s(()=>[t(D(I))]),_:1}),a("span",null,l(n.$t("addToCart")),1)]),_:1}),t(g,{class:"btn-solid-primary"},{default:s(()=>[w(l(n.$t("buyNow")),1)]),_:1})])]),_:1})]),_:1})):y("",!0)])])),[[k,r.value]])}}}),X=M(O,[["__scopeId","data-v-71f15706"]]);export{X as default};
