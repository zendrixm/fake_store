import{d as S,k as P,l as q,r as u,m as z,n as E,p as F,q as D,c as T,a as o,g as w,h as y,w as s,e as l,o as _,b as t,t as c,i as x,s as I,v as L,E as M,_ as Q}from"./index-3CNvc0aN.js";const R={"element-loading-text":"Loading... Please wait"},U={class:"product-view-wrapper"},$=["src","alt"],j={class:"txtSize14"},G={class:"txtBlue txtBold txtSize18"},H={class:"action-buttons"},J=S({__name:"ProductView",setup(K){const m=E(),n=P(),e=q(()=>n.product),i=u(!1),r=u(1),p=u(2),b=async()=>{n.isCartFetched||await n.fetchCart(p.value),e.value&&(await n.addToCartAndSync(p.value,e.value,r.value),M.success("Added to cart!"))};return z(async()=>{try{i.value=!0,m.params.id&&await n.fetchProduct(Number(m.params.id))}catch(v){console.error("Error fetching product details",v)}finally{i.value=!1}}),(v,a)=>{const f=l("el-col"),A=l("el-text"),B=l("el-rate"),C=l("el-divider"),d=l("el-row"),h=l("el-input-number"),V=l("el-icon"),g=l("el-button"),k=D("loading");return F((_(),T("div",R,[o("div",U,[e.value?(_(),w(d,{key:0},{default:s(()=>[t(f,{md:10,class:"image-column"},{default:s(()=>[o("img",{src:e.value.image,alt:e.value.title,class:"product-image"},null,8,$)]),_:1}),t(f,{md:14,class:"info-column"},{default:s(()=>[o("h1",null,c(e.value.title),1),t(A,null,{default:s(()=>[x(c(e.value.description),1)]),_:1}),e.value.rating?(_(),w(d,{key:0,align:"middle",class:"rating-section"},{default:s(()=>[t(B,{"model-value":e.value.rating.rate,disabled:"","show-score":"",max:5,colors:["#F7BA2A","#F7BA2A","#F7BA2A"],class:"rating-stars"},null,8,["model-value"]),t(C,{direction:"vertical"}),o("span",j,c(e.value.rating.count)+" Sold",1)]),_:1})):y("",!0),o("p",G,"$"+c(e.value.price),1),t(d,{align:"middle",class:"v-spacer-15 quantity-row"},{default:s(()=>[a[1]||(a[1]=o("span",{class:"qty-label"},[o("strong",null,"Quantity:")],-1)),t(h,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=N=>r.value=N),min:1,max:100,size:"small"},null,8,["modelValue"])]),_:1}),a[4]||(a[4]=o("div",{class:"v-spacer-20"},null,-1)),o("div",H,[t(g,{class:"btn-secondary",onClick:b},{default:s(()=>[t(V,{size:20,color:"#134074",class:"icon-align"},{default:s(()=>[t(I(L))]),_:1}),a[2]||(a[2]=o("span",null,"Add to Cart",-1))]),_:1}),t(g,{class:"btn-solid-primary"},{default:s(()=>a[3]||(a[3]=[x("Buy Now")])),_:1})])]),_:1})]),_:1})):y("",!0)])])),[[k,i.value]])}}}),W=Q(J,[["__scopeId","data-v-0c578fbe"]]);export{W as default};
